const translations = {
  "ru": {
    "site_title": "AI-–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç",
    "logo_title": "SmartDoc",
    "logo_subtitle": "–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏",
    "logout": "–í—ã–π—Ç–∏",
    "statistics": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
    "documents": "–î–æ–∫—É–º–µ–Ω—Ç—ã",
    "create": "–°–æ–∑–¥–∞—Ç—å",
    "ai_generator": "–ò–ò-–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä",
    "head_templates": "–®–∞–±–ª–æ–Ω—ã",
    "users": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",
    "schools": "–®–∫–æ–ª—ã",
    "profile": "–ü—Ä–æ—Ñ–∏–ª—å",
    "role": "–†–æ–ª—å",
    "welcome": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å",
    "documents": "–î–æ–∫—É–º–µ–Ω—Ç—ã",
    "query_placeholder": "–∑–∞–ø—Ä–æ—Å...",
    "file_placeholder": "—Ñ–∞–π–ª...",
    "send": "–æ—Ç–ø—Ä–∞–≤–∏—Ç—å",
    "save_to_db": "—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑–µ",
    "download_docx": "—Å–∫–∞—á–∞—Ç—å docx",
    "quick_queries": "üìÇ –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã",
    "3_months": "3-–º–æ“≥–∞",
    "6_months": "6-–º–æ“≥–∞", 
    "9_months": "9-–º–æ“≥–∞",
    "annual": "–°–æ–ª–æ–Ω–∞",
    "information": "–ê—Ö–±–æ—Ä–æ—Ç“≥–æ",
    "delete_document_confirm": "–£–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç:",
    "delete": "–£–¥–∞–ª–∏—Ç—å",
    "cancel": "–û—Ç–º–µ–Ω–∞",
    "create_document": "–°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç",
    "current_file": "–¢–µ–∫—É—â–∏–π —Ñ–∞–π–ª:",
    "save": "—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å",
    "my_documents": "–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
    "documents_count": "–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
    "filters_search": "–§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫",
    "find_documents": "–ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
    "search_placeholder": "–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/—Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é",
    "search_input_placeholder": "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞...",
    "status": "–°—Ç–∞—Ç—É—Å",
    "all_statuses": "–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã",
    "draft": "–ß–µ—Ä–Ω–æ–≤–∏–∫",
    "pending": "–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ",
    "signed": "–ü–æ–¥–ø–∏—Å–∞–Ω",
    "rejected": "–û—Ç–∫–ª–æ–Ω–µ–Ω",
    "template": "–®–∞–±–ª–æ–Ω",
    "all_templates": "–í—Å–µ —à–∞–±–ª–æ–Ω—ã",
    "reset_filters": "–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã",
    "document": "–î–æ–∫—É–º–µ–Ω—Ç",
    "creation_date": "–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è",
    "actions": "–î–µ–π—Å—Ç–≤–∏—è",
    "view": "–ü—Ä–æ—Å–º–æ—Ç—Ä",
    "edit": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",
    "download": "–°–∫–∞—á–∞—Ç—å",
    "delete": "–£–¥–∞–ª–∏—Ç—å",
    "no_documents_found": "–î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",
    "create_first_document": "–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞",
    "document_name": "–ò–º—è –¥–æ–∫—É–º–µ–Ω—Ç–∞",
    "save_to_database": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑–µ",
     "statistics_page_title": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - AI-–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç",
    "welcome_title": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ AI-–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç",
    "welcome_subtitle": "–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞",
    "total_documents": "–í—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
    "pending_review": "–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ",
    "signed": "–ü–æ–¥–ø–∏—Å–∞–Ω–æ",
    "templates": "–®–∞–±–ª–æ–Ω–æ–≤",
    "quick_actions": "–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è",
    "frequently_used": "–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏",
    "create_document": "–°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç",
    "choose_template": "–í—ã–±—Ä–∞—Ç—å —à–∞–±–ª–æ–Ω",
    "add_user": "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "find_document": "–ù–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç",
    "recent_documents": "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
    "recently_created": "–ù–µ–¥–∞–≤–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ",
    "created": "–°–æ–∑–¥–∞–Ω",
    "login_page_title": "–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É",
    "smartdoc": "SmartDoc",
    "system_description": "–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —à–∫–æ–ª",
    "username": "–õ–æ–≥–∏–Ω",
    "username_placeholder": "–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω",
    "password": "–ü–∞—Ä–æ–ª—å",
    "password_placeholder": "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",
    "login_button": "–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É",
    "registration_page_title": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
    "registration": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
    "edit_user": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "already_have_account": "–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏",
    "delete_template": "–£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω",
    "delete_template_confirm": "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω",
    "yes_delete": "–î–∞, —É–¥–∞–ª–∏—Ç—å",
    "create_edit_template": "–°–æ–∑–¥–∞–Ω–∏–µ / —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞",
    "back_to_list": "–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É",
    "templates_page_title": "–®–∞–±–ª–æ–Ω—ã - AI-–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç",
    "document_templates": "–®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
    "create_template": "–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω",
    "edit": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",
    "delete": "–£–¥–∞–ª–∏—Ç—å",
    "usage_count": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π:",
    "use_template": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å",
    "no_templates_found": "–®–∞–±–ª–æ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",
    "create_first_template": "–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
    "users_page_title": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ - AI-–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç",
    "user_management": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏",
    "add_user": "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "user": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
    "email": "Email",
    "role": "–†–æ–ª—å",
    "status": "–°—Ç–∞—Ç—É—Å",
    "actions": "–î–µ–π—Å—Ç–≤–∏—è",
    "active": "–ê–∫—Ç–∏–≤–µ–Ω",
    "inactive": "–ù–µ–∞–∫—Ç–∏–≤–µ–Ω",
    "edit": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",
    "deactivate": "–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å",
    "activate": "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å",
    "no_users_found": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",
    "no_documents_filter": "–î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",
    "change_search_filters": "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã"
  },
  "en": {
    "site_title": "AI Document Management",
    "logo_title": "SmartDoc",
    "logo_subtitle": "Document Management System",
    "logout": "Logout",
    "statistics": "Statistics",
    "documents": "Documents",
    "create": "Create",
    "ai_generator": "AI Generator",
    "head_templates": "Templates",
    "users": "Users",
    "schools": "Schools",
    "profile": "Profile",
    "role": "Role",
    "welcome": "Welcome",
    "documents": "Documents",
    "query_placeholder": "query...",
    "file_placeholder": "file...",
    "send": "send",
    "save_to_db": "save to database",
    "download_docx": "download docx",
    "quick_queries": "üìÇ Quick Queries",
    "3_months": "3-months",
    "6_months": "6-months",
    "9_months": "9-months", 
    "annual": "Annual",
    "information": "Information",
    "delete_document_confirm": "Delete document:",
    "delete": "Delete", 
    "cancel": "Cancel",
    "create_document": "Create document", 
    "current_file": "Current file:",
    "save": "save",
    "my_documents": "My Documents",
    "documents_count": "documents",
    "filters_search": "Filters and Search",
    "find_documents": "Find the documents you need",
    "search_placeholder": "Search by title/content",
    "search_input_placeholder": "Enter text to search...",
    "status": "Status",
    "all_statuses": "All statuses",
    "draft": "Draft",
    "pending": "Pending",
    "signed": "Signed",
    "rejected": "Rejected",
    "template": "Template",
    "all_templates": "All templates",
    "reset_filters": "Reset filters",
    "document": "Document",
    "creation_date": "Creation date",
    "actions": "Actions",
    "view": "View",
    "edit": "Edit",
    "download": "Download",
    "delete": "Delete",
    "no_documents_found": "No documents found",
    "create_first_document": "Create your first document or change search filters",
    "document_name": "Document name",
    "save_to_database": "Save to database",
    "statistics_page_title": "Statistics - AI Document Management",
    "welcome_title": "Welcome to AI Document Management",
    "welcome_subtitle": "Manage documents efficiently with artificial intelligence",
    "total_documents": "Total documents",
    "pending_review": "Pending review",
    "signed": "Signed",
    "templates": "Templates",
    "quick_actions": "Quick Actions",
    "frequently_used": "Frequently used functions",
    "create_document": "Create document",
    "choose_template": "Choose template",
    "add_user": "Add user",
    "find_document": "Find document",
    "recent_documents": "Recent documents",
    "recently_created": "Recently created or modified",
    "created": "Created",
    "login_page_title": "Login to System",
    "smartdoc": "SmartDoc",
    "system_description": "Document management system for schools",
    "username": "Username",
    "username_placeholder": "Enter username",
    "password": "Password",
    "password_placeholder": "Enter password",
    "login_button": "Login to System",
    "registration_page_title": "Registration",
    "registration": "Registration",
    "edit_user": "Edit User",
    "already_have_account": "Already have an account? Login",
    "delete_template": "Delete Template",
    "delete_template_confirm": "Are you sure you want to delete the template",
    "yes_delete": "Yes, delete",
    "create_edit_template": "Create / Edit Template",
    "back_to_list": "Back to list",
    "templates_page_title": "Templates - AI Document Management",
    "document_templates": "Document Templates",
    "create_template": "Create Template",
    "edit": "Edit",
    "delete": "Delete",
    "usage_count": "Usage count:",
    "use_template": "Use",
    "no_templates_found": "No templates found",
    "create_first_template": "Create your first template for quick document creation",
    "users_page_title": "Users - AI Document Management",
    "user_management": "User Management",
    "add_user": "Add User",
    "user": "User",
    "email": "Email",
    "role": "Role",
    "status": "Status",
    "actions": "Actions",
    "active": "Active",
    "inactive": "Inactive",
    "edit": "Edit",
    "deactivate": "Deactivate",
    "activate": "Activate",
    "no_users_found": "No users found",
    "no_documents_filter": "No documents found", 
    "change_search_filters": "Try changing search parameters or filters"
  }
};
function changeLanguage(lang) {
  // –û–±–Ω–æ–≤–ª—è–µ–º —è–∑—ã–∫ html —ç–ª–µ–º–µ–Ω—Ç–∞
  document.documentElement.lang = lang;
  
  // –û–±–Ω–æ–≤–ª—è–µ–º title —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  const titleElement = document.querySelector('title');
  if (titleElement && translations[lang]?.site_title) {
    titleElement.textContent = translations[lang].site_title;
  }
  
  // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å data-i18n –∞—Ç—Ä–∏–±—É—Ç–æ–º
  const elements = document.querySelectorAll('[data-i18n]');
  elements.forEach(element => {
    const key = element.getAttribute('data-i18n');
    if (translations[lang] && translations[lang][key]) {
      element.textContent = translations[lang][key];
    }
  });
  
  // –û–±–Ω–æ–≤–ª—è–µ–º placeholder'—ã
  const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
  placeholders.forEach(element => {
    const key = element.getAttribute('data-i18n-placeholder');
    if (translations[lang] && translations[lang][key]) {
      element.placeholder = translations[lang][key];
    }
  });
  
  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä —è–∑—ã–∫–∞
  localStorage.setItem('preferredLanguage', lang);
  
  // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
  updateLanguageButtons(lang);
}

function updateLanguageButtons(currentLang) {
  const buttons = document.querySelectorAll('.lang-btn');
  buttons.forEach(btn => {
    if (btn.getAttribute('data-lang') === currentLang) {
      btn.classList.add('active');
    } else {
      btn.classList.remove('active');
    }
  });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
  const savedLang = localStorage.getItem('preferredLanguage') || 'ru';
  changeLanguage(savedLang);
  
  // –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤ –≤ header (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
  addLanguageSwitcher();
});

function addLanguageSwitcher() {
  const headerRight = document.querySelector('.header-right');
  if (headerRight && !document.querySelector('.lang-switcher')) {
    const langSwitcher = document.createElement('div');
    langSwitcher.className = 'lang-switcher';
    langSwitcher.innerHTML = `
      <button class="lang-btn {% if request.resolver_match.url_name == 'index' %}active{% endif %}" data-lang="ru" onclick="changeLanguage('ru')">RU</button>
      <button class="lang-btn {% if request.resolver_match.url_name == 'index' %}active{% endif %}" data-lang="en" onclick="changeLanguage('en')">EN</button>
    `;
    headerRight.insertBefore(langSwitcher, headerRight.firstChild);
  }
}